<div class="min-h-screen bg-gray-50 p-8">
  <div class="bg-white p-8 rounded-2xl shadow-md max-w-3xl mx-auto space-y-8">
    <div class="items-center ">
      <h1 class="text-2xl font-semibold text-[#0C2340]">
        Editar Evaluación
      </h1>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        Nombre de la evaluación
      </label>
      <input
        type="text"
        [(ngModel)]="nombreEvaluacion"
        class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-[#4EC3E0] focus:outline-none"
      />
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        Descripción
      </label>
      <textarea
        rows="3"
        [(ngModel)]="descripcionEvaluacion"
        class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-[#4EC3E0] focus:outline-none"
      ></textarea>
    </div>
    <hr class="border-gray-200" />

    <div>
      <h2 class="text-lg font-semibold text-[#0C2340] mb-4">
        Criterios y Rúbricas
      </h2>

      <div *ngFor="let criterio of criterios; let i = index" class="border border-gray-200 rounded-xl p-5 space-y-4 mb-6">
        <div class="flex justify-between items-center">
          <input
            type="text"
            [(ngModel)]="criterio.titulo"
            placeholder="Título del criterio"
            class="w-full border border-gray-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-[#4EC3E0]"
          />
          <button
            class="ml-2 text-gray-400 hover:text-red-500 transition"
            title="Eliminar criterio"
            (click)="eliminarCriterio(i)"
            *ngIf="criterios.length > 1"
          >
            <span class="material-icons text-base">delete</span>
          </button>
        </div>
        <textarea
          [(ngModel)]="criterio.descripcion"
          placeholder="Descripción del criterio..."
          rows="2"
          class="w-full border border-gray-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-[#4EC3E0]"
        ></textarea>

        <div class="space-y-3">
          <div *ngFor="let rubrica of criterio.rubricas; let j = index" class="border-l-4 border-[#4EC3E0] pl-4 space-y-2">
            <div class="flex items-center gap-2">
              <input
                type="text"
                [(ngModel)]="rubrica.titulo"
                placeholder="Título del ítem"
                class="flex-1 border border-gray-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-[#4EC3E0]"
              />
              <input
                type="number"
                [(ngModel)]="rubrica.puntaje"
                placeholder="Puntaje"
                class="w-20 border border-gray-300 rounded-lg p-2 text-sm text-center focus:ring-2 focus:ring-[#4EC3E0]"
              />
              <span class="text-sm text-gray-500">pts</span>
              <button
                class="text-gray-400 hover:text-red-500 transition"
                title="Eliminar ítem"
                (click)="eliminarRubrica(i, j)"
                *ngIf="criterio.rubricas.length > 1"
              >
                <span class="material-icons text-base">remove_circle</span>
              </button>
            </div>
            <textarea
              [(ngModel)]="rubrica.descripcion"
              placeholder="Descripción del ítem"
              rows="2"
              class="w-full border border-gray-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-[#4EC3E0]"
            ></textarea>
          </div>
        </div>
        <button
          class="flex items-center gap-2 text-[#0C2340] text-sm font-medium hover:text-[#4EC3E0] transition mt-3"
          (click)="agregarRubrica(i)"
        >
          <span class="material-icons text-base">add_circle</span>
          Agregar ítem de rúbrica
        </button>
      </div>

      <div class="flex justify-center mt-8">
        <button
          class="px-6 py-3 bg-[#0C2340] text-white rounded-lg text-sm font-medium flex items-center gap-2 hover:bg-[#1a3a66] transition"
          (click)="agregarCriterio()"
        >
          <span class="material-icons text-base">add</span>
          Agregar nuevo criterio
        </button>
      </div>
    </div>

    <hr class="border-gray-200" />

    <div class="flex justify-end gap-4 pt-4">
      <button
        class="px-6 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100 transition text-sm font-medium"
      >
        Cancelar
      </button>
      <button
        class="px-6 py-2 bg-[#4EC3E0] text-white rounded-lg text-sm font-medium hover:bg-[#3AB1CD] transition"
      >
        Guardar cambios
      </button>
    </div>
  </div>
</div>